# 정규화

---

## 1️⃣ 정규화

- 관계형 데이터베이스에서 중복을 최소화하기 위해 데이터를 구조화하는 작업
- 더 작은 릴레이션으로 분해하는 작업
- 논리적 설계 단계에서 수행
- 정규화된 데이터 모델은 일관성, 정확성, 단순성, 비중복성, 안정성 등을 보장
- 정규화 수준이 높을수록 유연한 데이터 구축이 가능하고 데이터의 정확성이 높아지는 반면 물리적 접근이 복잡하고 너무 많은 조인으로 인해 조회 성능이 저하된다.



### 💡 정규화를 왜 해야할까?

- 데이터 중복을 배제하여 이상의 발생 방지 및 자료 저장 공간의 최소화 가능
- 데이터 삽입 시 릴레이션을 재구성할 필요성을 줄일 수 있다.



### 이상현상이란❓

- 테이블 내 데이터 중복성에 의해서 발생하는 데이터 불일치 현상!
1. 삽입 이상 : 데이터를 삽입할 때 의도와는 상관없이 원하지 않는 값들도 함께 삽입되는 현상
2. 삭제 이상 : 한 튜플을 삭제할 때 의도와는 상관없이 원하지 않는 값들도 함께 삭제되는 연쇄가 일어나는 현상
3. 갱신 이상 : 튜플에 있는 속성값을 갱신할 때 일부 튜플의 정보만 갱신되어 정보에 모순이 생기는 현상



### 💡그럼 정규화의 장점을 뭘까?

- 이상 현상들이 발생하는 문제점을 해결할 수 있다.
- 새로운 데이터 형의 추가로 인해 데이터베이스 구조 확장 시, 구조를 변경하지 않아도 되거나 일부만 변경해도 된다 ⇒ 데이터베이스와 연동된 응용 프로그램에 최소한의 영향만 미치게 되어 응용프로그램의 생명을 연장시킨다.



### 💡그럼 정규화의 단점을 없나?

- 릴레이션 분해로 인해 릴레이션 간 JOIN 연산이 많아진다. ⇒ 질의에 대한 응답 시간이 느려질 수 있다.
  
    → 정규화의 단점을 보완해줄 수 있는 방법 : `반정규화`
    
    

## 2️⃣반정규화

- 시스템의 성능 향상, 개발 및 운영의 편의성 등을 위해 정규화된 데이터 모델을 통합, 중복, 분리하는 과정
- 반 정규화를 수행하면 시스템의 성능이 향상되고 관리 효율성 증가
- 데이터의 일관성 및 정합성 저하

1. 테이블 통합 
    - 두 개의 테이블이 조인되는 경우가 많아 하나의 테이블로 합쳐 사용하는 것이 성능 향상에 도움이 될 경우 수행
    - 데이터 검색은 간편하지만 레코드 증가로 인해 처리량 증가
    - 데이블 통합으로 인해 입력, 수정, 삭제 규칙이 복잡해질 수 있다.
    - 제약조건 설계 어려움
    
2. 테이블 분할
    - 테이블을 수평 또는 수직으로 분할
    - 수평 분할
        - 레코드별로 사용 빈도의 차이가 큰 경우 사용
    - 수직 분할
        - 갱신 위주의 속성 분할
        - 자주 조회되는 속성 분할
        - 크기가 큰 속성 분할
        - 보안을 적용해야 하는 속성 분할
    
3. 중복 테이블 추가
    - 여러 테이블에서 데이터를 추출해서 사용해야 하거나 다른 서버에 저장된 테이블을 이용해야하는 경우 사용

1. 중복 속성 추가
    - 조인해서 데이터를 처리할 때 데이터를 조회하는 경로를 단축하기 위해 자주 사용하는 속성을 하나 더 추가하는 것
    - 데이터의 무결성 확보가 어렵고, 디스크 공간이 추가로 필요
    
    

### 💡반정규화의 대상

- 자주 사용되는 테이블에 엑세스하는 프로세스의 수가 가장 많고, 항상 일정한 범위만을 조회하는 경우
- 테이블에 대량의 데이터가 있고 대량의 범위를 자주 처리하는 경우
- 지나치게 조인을 많이 사용하게 되어 데이터를 조회하는 것이 기술적으로 어려울 경우