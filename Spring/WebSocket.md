# WebSocket



## 웹 소켓이란?

![stun](/res/webSocket.png)

- 두 프로그램 간의 메시지를 교환하기 위한 통신 방법 중 하나

- 인터넷 환경에서 많이 사용

  

## 🤔사용하는이유?

- 서버와 클라이언트 간의 통신은 대부분 HTTP를 통해 이루어지며 HTTP는 Request/Response기반의 Stateless Protocol이다. 즉 클라이언트 쪽에서 필요할 때마다 Request를 요청하여 서버가 Response를 하는 방식인 일방향 통신

    ⇒ 서버 쪽 데이터가 변경되더라도 클라이언트 쪽에서는 화면을 새로고침하지 않는 한 변경된 데이터가 업데이트 되지 않는다.

- Long polling, ajax를 사용해도 어느 정도 해결은 가능하지만 데이터의 빠른 업데이트가 중요한 웹 어플리케이션에서는 실시간 업데이트가 필요하기 때문에 웹 소켓을 사용



❓Long Polling이란?

1. 클라이언트는 서버에 요청을 보내고, 서버에서 변경 사항이 있는 경우에만 응답하여 커넥션 종료
2. 클라이언트는 다시 서버에 요청을 보내고, 서버에서 변경 사항이 있을 때까지 대기
3. 커넥션 일정 시간 대기할 경우, 커넥션 종료

→ 변경 사항이 불규칙적으로 일어나거나 변경 사항의 빈도가 잦을경우 서버의 부담 ⏫



## 웹 소켓 특징

1. 양방향 통신
    - 데이터 송수신을 동시에 처리할 수 있는 통신 방법
    - 클라이언트와 서버가 언제든지 데이터를 주고받을 수 있다.

1. 실시간 네트워킹
    - 웹 환경에서의 연속된 데이터를 화면에 빠르게 보여줘야할 때 유용

2. Stateful Protocol
    - 클라이언트와 연결이 되면 같은 라인을 사용해서 통신하기 때문에 HTTP와 TCP연결 트래픽을 피할 수 있다.
    
    

## 동작 원리

![stun](/res/webSocketprocess.png)

- 기존의 요청 - 응답 관계에서 벗어난 양방향 송수신

1. Web Client가 Web Server에게 handshake 요청
2. Web Server가 Web Client에게 handshake 응답
3. Web Socket 데이터 송,수신